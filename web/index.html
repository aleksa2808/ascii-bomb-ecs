<html>

<head>
    <title>ascii-bomb-ecs</title>
</head>

<body>
    <button id="button" onclick="loadGame()">Click me</button>
    <script type="module">
        import init from "./ascii_bomb_ecs_lib.js";

        function loadGame() {
            document.getElementById('button').remove();

            init("./ascii_bomb_ecs_lib_bg.wasm").then(function (wasm) {
                wasm.run();
            });
        }

        window.loadGame = loadGame

        function auto_focus() {
            let canvas = document.getElementsByTagName("canvas");
            if (!canvas.length) {
                setTimeout(auto_focus, 100);
            } else {
                canvas[0].focus();
            }
        }
        auto_focus();
    </script>
</body>

</html>